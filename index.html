<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>üíå A Little Message üíå</title>
  <link href="https://fonts.googleapis.com/css2?family=Comic+Neue:wght@400;700&family=Quicksand:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --pink:#ff9ecb;
      --hot:#ff69b4;
      --mint:#b8f3e5;
      --lemon:#fff5a5;
      --lav:#e8d6ff;
      --bg1:#fff0f7;
      --bg2:#e8f9ff;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: 'Comic Neue', 'Comic Sans MS', cursive, sans-serif;
      color:#ff4d9a;
      background: radial-gradient(1200px 800px at 20% 0%, var(--bg2), var(--bg1)) fixed;
      overflow-x:hidden;
    }

    /* Floating pastel blobs */
    .floaty{position:fixed; inset:0; pointer-events:none; z-index:-1;}
    .floaty span{
      position:absolute; width:18vmin; height:18vmin; opacity:.25; filter:blur(2px);
      background: conic-gradient(from 180deg, var(--mint), var(--lemon), var(--lav), var(--pink));
      border-radius: 40% 60% 65% 35% / 40% 35% 65% 60%;
      animation: drift var(--dur) linear infinite;
    }
    @keyframes drift{to{transform: translateY(-120vh) rotate(360deg)}}

    /* ---------- Layout + Card ---------- */
    .wrapper{
      min-height:100%;
      display:grid;
      place-items:center;
      padding: clamp(1rem, 3vw, 2rem);
    }
    .card{
      width:min(720px, 92vw);
      background:#fff; 
      border:4px dashed var(--pink);
      border-radius:2rem;
      box-shadow:0 10px 30px rgba(255,105,180,.2);
      padding:
        clamp(1rem, 2.5vw, 2rem)
        clamp(1rem, 2vw, 1.5rem)
        clamp(1.25rem, 3vw, 2.5rem);
      text-align:center;
      position:relative;
      overflow:hidden;
    }
    .card:before{
      content:""; position:absolute; inset:0; pointer-events:none;
      background: repeating-linear-gradient(45deg, transparent 0 12px, rgba(255,158,203,.15) 12px 24px);
      mix-blend-mode: multiply;
    }
    h1{
      font-family:'Quicksand', system-ui, sans-serif;
      margin:.5rem 0 1.25rem;
      font-size: clamp(1.6rem, 5vw, 2.6rem);
    }
    .main-img{
      width: clamp(140px, 28vw, 220px);
      display:block; margin:0 auto .5rem;
      filter: drop-shadow(0 6px 12px rgba(0,0,0,.08));
    }
    .sub{margin-top:.25rem; font-size: clamp(.9rem, 2.2vw, .95rem); opacity:.8}

    .button-group{ margin-top:1.25rem; display:flex; justify-content:center; align-items:center; gap: clamp(.5rem, 3vw, 1.25rem); flex-wrap:wrap; }
    button{
      padding: clamp(.7rem, 2.2vw, .95rem) clamp(1rem, 3vw, 1.45rem);
      font-size: clamp(1rem, 2.6vw, 1.1rem);
      border:none; cursor:pointer; border-radius:999px;
      background:#ffd1dc; color:#a33a75; font-weight:700; letter-spacing:.3px;
      box-shadow:0 6px 0 #e3a9b8, 0 10px 24px rgba(255,105,180,.25);
      user-select:none; will-change: transform;
    }
    button:active{ transform: translateY(3px); box-shadow:0 5px 0 #e3a9b8, 0 6px 12px rgba(255,105,180,.2) }
    .yes{ --scale:1; background: linear-gradient(180deg, #c4ffd9, #90ee90); box-shadow:0 8px 0 #6bcf78, 0 12px 26px rgba(144,238,144,.35); color:#1e5a2f; animation: pulse 1.4s ease-in-out infinite; }
    .no{  --scale:1; background: linear-gradient(180deg, #ffc2c2, #f7a6a6); box-shadow:0 8px 0 #e58686, 0 12px 26px rgba(240,128,128,.35); color:#7a1e1e; animation: wiggle .7s ease-in-out infinite; }
    @keyframes pulse{ 0%,100%{ transform: scale(calc(var(--scale) * 1)); } 50%{ transform: scale(calc(var(--scale) * 1.06)); } }
    @keyframes wiggle{ 0%,100%{ transform: scale(var(--scale)) rotate(-2deg); } 50%{ transform: scale(var(--scale)) rotate(2deg); } }

    .footer-note{ margin-top:1rem; font-size:clamp(.85rem,2.2vw,.95rem); opacity:.75 }

    /* Floating gifs */
    .cat-gif { position: absolute; width: clamp(72px, 12vw, 120px); pointer-events: none; animation: floatUp 5s linear forwards; }
    @keyframes floatUp { 0% { opacity: 0; transform: translateY(100px) scale(0.8); } 20% { opacity: 1; } 100% { opacity: 0; transform: translateY(-300px) scale(1.1); } }

    /* ---------- Bouquets ---------- */
    .bouquet { width:100%; display:block; filter: drop-shadow(0 8px 14px rgba(0,0,0,.12)); animation: sway 3.2s ease-in-out infinite; transform-origin: 150px 300px; margin:0; }
    @keyframes sway { 0%,100%{ transform: rotate(-1.8deg);} 50%{ transform: rotate(1.8deg);} }

    /* Right-side bouquet */
    #bouquetWrap{
      position: fixed;
      right: 1.25rem;
      top: 50%;
      transform: translateY(-50%);
      width: clamp(240px, 30vw, 560px);
      z-index: 10;
      pointer-events: none;
      text-align: center;
    }
    /* Left-side bouquet */
    #bouquetWrapLeft{
      position: fixed;
      left: 1.25rem;
      top: 50%;
      transform: translateY(-50%);
      width: clamp(240px, 30vw, 560px);
      z-index: 10;
      pointer-events: none;
      text-align: center;
    }

    /* Centered bottom caption */
    .page-caption{
      position: fixed;
      left: 50%;
      transform: translateX(-50%);
      bottom: clamp(.75rem, 2.5vw, 1.5rem);
      padding: clamp(8px, 1.6vw, 10px) clamp(12px, 2.2vw, 18px);
      background: rgba(255,240,247,.95);
      border: 2px dashed var(--pink);
      border-radius: 14px;
      box-shadow: 0 6px 18px rgba(255,105,180,.18);
      color:#a33a75;
      font-family:'Quicksand', system-ui, sans-serif;
      font-weight:700;
      font-size: clamp(.85rem, 2.4vw, 1rem);
      line-height:1.25;
      text-align:center;
      max-width: min(720px, 92vw);
      text-wrap: balance;
      z-index: 11;
      pointer-events: none;
    }

    /* ---------- Breakpoints ---------- */
    /* Tablet */
    @media (max-width: 900px){
      #bouquetWrapLeft{ display:none; }     /* hide left bouquet on tablet/phone */
      #bouquetWrap{ width: clamp(200px, 34vw, 320px); }
    }

    /* Phone */
    @media (max-width: 600px){
      #bouquetWrap{
        right: .75rem;
        top: 46%;
        transform: translateY(-46%);
        width: clamp(180px, 40vw, 260px);
      }
      .card{ border-width:3px; }
    }

    /* Very small phones (SE) */
    @media (max-width: 380px){
      .card{ width: 95vw; }
      .button-group{ gap:.6rem; }
    }
  </style>
</head>
<body>
  <div class="floaty" aria-hidden="true"></div>

  <main class="wrapper">
    <section class="card" role="dialog" aria-labelledby="ask">
      <img class="main-img" id="mymelodyImg" src="https://media.tenor.com/SzEa9KOp6vwAAAAj/sanrio.gif" alt="My Melody" />
      <h1 id="ask">May I be your boyfriend??</h1>
      <p class="sub"></p>

      <div class="button-group" id="btnRow">
        <button class="yes" id="yesBtn" aria-label="Yes">Yes üíñ</button>
        <button class="no" id="noBtn" aria-label="No">No üò¢</button>
      </div>

      <p class="footer-note">Click "No" for an easter egg</p>
    </section>
  </main>

  <script>
    /* background blobs */
    (function makeBlobs(){
      const holder = document.querySelector('.floaty');
      const NUM = 9;
      for(let i=0;i<NUM;i++){
        const s = document.createElement('span');
        const left = Math.random()*100;
        const delay = Math.random()*-12;
        const size = 12 + Math.random()*18;
        s.style.left = left + 'vw';
        s.style.bottom = (-20 - Math.random()*80) + 'vh';
        s.style.width = s.style.height = size + 'vmin';
        s.style.animationDelay = delay + 's';
        s.style.setProperty('--dur', (18 + Math.random()*14)+'s');
        holder.appendChild(s);
      }
    })();

    const yesBtn = document.getElementById('yesBtn');
    const noBtn  = document.getElementById('noBtn');

    yesBtn.addEventListener('click', ()=>{
      document.body.innerHTML = `
        <div class="floaty" aria-hidden="true"></div>
        <main class="wrapper">
          <section class="card" style="padding:2rem 1.25rem 2.25rem">
            <img class="main-img" id="happyHango" src="https://media.tenor.com/m0s-EM6wk_YAAAAi/hangyodon-sanrio.gif" alt="Hangyodon happy" />
            <h1>YAY!!!</h1>
            <p>We will be in each other's care!</p>
            <p>Click on Hangyodon for another easter egg!</p>
          </section>
        </main>
        <div id="bouquetWrap"></div>
        <div id="bouquetWrapLeft"></div>
        <div class="page-caption">Since I can't hand you flowers in real life, this will have to do for nowüíê</div>
      `;

      /* rebuild blobs for success view */
      (function makeBlobs(){
        const holder = document.querySelector('.floaty');
        const NUM = 9;
        for(let i=0;i<NUM;i++){
          const s = document.createElement('span');
          const left = Math.random()*100;
          const delay = Math.random()*-12;
          const size = 12 + Math.random()*18;
          s.style.left = left + 'vw';
          s.style.bottom = (-20 - Math.random()*80) + 'vh';
          s.style.width = s.style.height = size + 'vmin';
          s.style.animationDelay = delay + 's';
          s.style.setProperty('--dur', (18 + Math.random()*14)+'s');
          holder.appendChild(s);
        }
      })();

      /* draw bouquets (both sides on desktop; left hidden on small) */
      requestAnimationFrame(()=>{
        drawBouquet('bouquetWrap');      // right
        drawBouquet('bouquetWrapLeft');  // left
      });

      /* Burst images when clicking Hangyodon */
      const yesBurstImgs = [
        "https://media1.tenor.com/m/EUxmm_pMfxMAAAAC/tinkatink-pokemon.gif",
        "https://media.tenor.com/Z3cHKY-9vuQAAAAi/cingcing-my-melody.gif",
        "https://media.tenor.com/WILOSfQPu-AAAAAi/my-melodoy.gif",
        "https://media.tenor.com/0567xvrvmHQAAAAi/korilakkuma.gif",
        "https://media.tenor.com/-B029UIP6mAAAAAi/sanrio.gif"
      ];

      const hango = document.getElementById('happyHango');
      if (hango) {
        hango.style.cursor = 'pointer';
        hango.title = 'click me';
        hango.addEventListener('click', () => {
          const COUNT = 36;
          for (let i = 0; i < COUNT; i++) {
            setTimeout(() => {
              const img = document.createElement('img');
              img.src = yesBurstImgs[Math.floor(Math.random() * yesBurstImgs.length)];
              img.className = 'cat-gif';
              const x = Math.random() * (window.innerWidth  - 160);
              const y = Math.random() * (window.innerHeight - 160);
              img.style.left = x + 'px';
              img.style.top  = y + 'px';
              document.body.appendChild(img);
              setTimeout(() => img.remove(), 5000);
            }, i * 60);
          }
        });
      }
    });

    /* "No" easter egg */
    let yesScale = 1, noScale = 1;
    const catGifs = [
      "https://media1.tenor.com/m/KX6SK2KlnDoAAAAC/sad-cat.gif",
      "https://media.tenor.com/0QkZnCmGFX0AAAAM/banana-cat-banana-cat-crying.gif",
      "https://media1.tenor.com/m/yOGf9WqIA0wAAAAC/do%C4%91i-do%C4%91i-do%C4%91i.gif",
      "https://media1.tenor.com/m/LnwsC69ssbEAAAAd/tomorrow-will.gif",
      "https://media1.tenor.com/m/cz1GUolsj2YAAAAC/crying-cry.gif",
      "https://media1.tenor.com/m/iewR3VUONzgAAAAC/n%C3%A3o-chora.gif"
    ];
    noBtn.addEventListener('click', ()=>{
      yesScale *= 1.2;  noScale *= 0.8;
      yesBtn.style.setProperty('--scale', yesScale);
      noBtn.style.setProperty('--scale', noScale);

      const gif = document.createElement('img');
      gif.src = catGifs[Math.floor(Math.random()*catGifs.length)];
      gif.className = 'cat-gif';
      gif.style.left = Math.random() * (window.innerWidth - 150) + 'px';
      gif.style.top  = Math.random() * (window.innerHeight - 150) + 'px';
      document.body.appendChild(gif);
      setTimeout(()=> gif.remove(), 5000);
    });

    /* draw bouquet into a container id */
    function drawBouquet(targetId = 'bouquetWrap'){
      const mount = document.getElementById(targetId);
      if(!mount) return;
      const svgNS = 'http://www.w3.org/2000/svg';
      const svg = document.createElementNS(svgNS, 'svg');
      svg.setAttribute('viewBox','0 0 300 360');
      svg.setAttribute('class','bouquet');

      const colors = ['#FFD1DC','#C4FFD9','#FFE8A3','#E8D6FF','#C6E4FF'];
      for(let i=0;i<7;i++){
        const x0 = 150 + (i-3)*10 + (Math.random()*14-7);
        const y0 = 210;
        const x1 = 110 + Math.random()*80;
        const y1 = 80 + Math.random()*70;
        const cx = (x0 + x1)/2 + (Math.random()*40-20);
        const cy = (y0 + y1)/2 - 40 - Math.random()*20;

        const stem = document.createElementNS(svgNS,'path');
        stem.setAttribute('d',`M${x0} ${y0} Q ${cx} ${cy} ${x1} ${y1}`);
        stem.setAttribute('fill','none');
        stem.setAttribute('stroke','#6BBF73');
        stem.setAttribute('stroke-width','3');
        svg.appendChild(stem);

        for(let j=0;j<2;j++){
          const t = 0.3 + j*0.35;
          const qx = (1-t)*(1-t)*x0 + 2*(1-t)*t*cx + t*t*x1;
          const qy = (1-t)*(1-t)*y0 + 2*(1-t)*t*cy + t*t*y1;
          const leaf = document.createElementNS(svgNS,'ellipse');
          leaf.setAttribute('cx', qx + (j?6:-6));
          leaf.setAttribute('cy', qy);
          leaf.setAttribute('rx','7');
          leaf.setAttribute('ry','14');
          leaf.setAttribute('fill','#7FD18A');
          leaf.setAttribute('transform',`rotate(${(j?35:-35)}, ${qx}, ${qy})`);
          svg.appendChild(leaf);
        }

        const flower = document.createElementNS(svgNS,'g');
        flower.setAttribute('transform',`translate(${x1},${y1})`);
        const petals = 6;
        const petalColor = colors[Math.floor(Math.random()*colors.length)];
        for(let k=0;k<petals;k++){
          const ang = (k/petals)*Math.PI*2;
          const p = document.createElementNS(svgNS,'ellipse');
          p.setAttribute('cx', Math.cos(ang)*10);
          p.setAttribute('cy', Math.sin(ang)*10);
          p.setAttribute('rx','8');
          p.setAttribute('ry','14');
          p.setAttribute('fill', petalColor);
          flower.appendChild(p);
        }
        const center = document.createElementNS(svgNS,'circle');
        center.setAttribute('r','8');
        center.setAttribute('fill','#FFD86B');
        flower.appendChild(center);
        svg.appendChild(flower);
      }

      mount.appendChild(svg);
    }
  </script>
</body>
</html>
